$caret-size: 4px;

@mixin global-menu-item-icon($index) {
  background-position: -($index * 24px) 0px;
  &:hover {
    @include global-menu-item-icon-hover($index);
  }
}

@mixin global-menu-item-icon-hover($index) {
  background-position: -($index * 24px) -24px;
}

#user-menu-panel {
  display: block;
  width: auto; height: 50px;
  margin: 0px 20px;
  list-style: none;
  > li {
    line-height: 50px;
    > a {
      font-size: 11px;
      color: white;
      .caret {
        position: relative;
        top: 15px;
        @include caret-down(white);
      }
    }

    &.open {
      .caret {
        @include caret-up(white);
      }
    }

    .dropdown-menu {
      padding: 0px;
      > li {
        @include no-space;

        a {
          margin: 0px; padding: 5px 20px;
          // @include block-link;

          &:hover {
            // @include hover-block-link;
          }
        }
      }
    }
  }
}

@mixin navigation-item {
  display: block;
  width: 160px; height: 29px;
  padding: 5px 10px;
  color: $topNavigationForeColor;
  font-size: 12px;
  line-height: 30px;
  border-bottom: 1px solid darken($topNavigationBackgroundColor, 15%);

  &:hover, &.active {
    background: darken($logoColor, 15%);
    color: white;
    text-decoration: none !important;
  }

  &.open {
    color: white;
  }
}

#top-navigation-bar {
  display: block;
  position: absolute;
  top: 0px; bottom: 0px;
  left: 0px; right: 0px;
  width: 180px;
  background: $topNavigationBackgroundColor;
  padding: 0px;

  [class*="accordion"] {
    padding: 0px; margin: 0px;
    border: none;
    color: $topNavigationForeColor;
    font-size: 12px;
  }

  .accordion-heading {
    a {
      @include navigation-item;
    }
  }

  .accordion .accordion {
    background: darken($topNavigationBackgroundColor, 5%);
  }

  .arrow {
    position: absolute;
    right: 10px;
    line-height: 30px;
  }

  ul {
    list-style: none;
    @include no-space;
    top: 0px;

    li {
      a {
        @include navigation-item;
      }
    }
  }
}

@mixin sub-navigation-active-state {
  background: $pageMenuActiveBackgroundColor;
  color: $pageMenuActiveForeColor;
  font-weight: bold;
}

@mixin sub-navigation-hover-state {
  background: $pageMenuHoverBackgroundColor;
  color: $pageMenuHoverForeColor;
  text-decoration: none !important;
}

#sub-navigation-bar {
  display: none;
  position: absolute;
  top: 0px; bottom: 0px;
  left: 0px; width: 199px;
  @include no-space;
  background: $pageMenuBackgroundColor;
  border-right: 1px solid $pageMenuBorderColor;
  z-index: 90;

  [class*="accordion"] {
    @include no-space;
    border: none;
    list-style: none;
  }

  .accordion {
    ul {
      list-style: none;
      @include no-space;
    }

    a {
      display: block;
      line-height: 30px;
      height: 30px;
      border-bottom: 1px solid $pageMenuBorderColor;
      padding: $smallPadding $bigPadding;
      font: {
        size: 12px;
      }
      color: $pageMenuForeColor;

      &:hover {
        @include sub-navigation-hover-state;

        .caret {
          @include caret-down($pageMenuHoverForeColor, $caret-size);
        }

        &.accordion-toggle.collapsed {
          .caret {
            @include caret-up($pageMenuHoverForeColor, $caret-size);
          }
        }
      }

      &.active {
        @include sub-navigation-active-state;

        &.in {
          background: $pageMenuBackgroundColor;
          color: $pageMenuForeColor;

          &:hover {
            background: $pageMenuHoverBackgroundColor;
            color: $pageMenuHoverForeColor;

            .caret {
              @include caret-down($pageMenuHoverForeColor, $caret-size);
            }

            &.accordion-toggle.collapsed {
              .caret {
                @include caret-up($pageMenuHoverForeColor, $caret-size);
              }
            }
          }
        }

        .caret {
          @include caret-down;
        }

        &.accordion-toggle.collapsed {
          .caret {
            @include caret-up;
          }
        }
      }

      .caret {
        position: relative;
        top: $normalPadding;
        @include caret-down;
      }

      &.accordion-toggle.collapsed {
        .caret {
          @include caret-up;
        }
      }
    }
  }

  .accordion-body {
    a {
      padding: 0px $bigPadding * 2;
      height: 35px;
      line-height: 35px;

      &.active {
        background: $pageMenuActiveBackgroundColor;
        color: $pageMenuActiveForeColor;
        font-weight: bold;
      }
    }
  }
}
